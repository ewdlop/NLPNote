# 日月陽曆(3體) - Solar Lunar Calendar Three-Body System

## 概述 (Overview)

本專案實現了一個綜合的太陽月亮陽曆三體系統，結合了：
- 太陽曆和陰曆計算
- 三體天體力學模擬
- 多語言曆法術語
- NLP相關的曆法文本處理

This project implements a comprehensive Solar Lunar Calendar Three-Body System that combines:
- Solar and lunar calendar calculations
- Three-body celestial mechanics simulation
- Multilingual calendar terminology
- NLP-related calendar text processing

## 主要功能 (Main Features)

### 1. 曆法轉換 (Calendar Conversion)
- 格里高利曆 (Gregorian Calendar)
- 中國農曆 (Chinese Lunar Calendar)
- 伊斯蘭曆 (Islamic Calendar)
- 希伯來曆 (Hebrew Calendar)
- 儒略日 (Julian Day) 計算

### 2. 月相計算 (Lunar Phase Calculation)
- 新月 (New Moon)
- 上弦月 (First Quarter)
- 滿月 (Full Moon)
- 下弦月 (Last Quarter)
- 照明比例計算
- 月相角度計算

### 3. 三體天體力學 (Three-Body Celestial Mechanics)
- 太陽-地球-月球位置計算
- 引力相互作用計算
- 軌道動力學模擬
- 牛頓萬有引力定律應用

### 4. 天文事件預測 (Astronomical Event Prediction)
- 日食預測 (Solar Eclipse Prediction)
- 月食預測 (Lunar Eclipse Prediction)
- 二十四節氣計算 (24 Solar Terms)

### 5. 多語言支援 (Multilingual Support)
支援的語言 (Supported Languages):
- 英語 (English)
- 中文簡體 (Simplified Chinese)
- 中文繁體 (Traditional Chinese)
- 日語 (Japanese)
- 韓語 (Korean)
- 法語 (French)
- 德語 (German)
- 西班牙語 (Spanish)
- 俄語 (Russian)
- 阿拉伯語 (Arabic)

## 使用方法 (Usage)

### 基本使用 (Basic Usage)

```python
from SolarLunarCalendar3Body import SolarLunarCalendar3Body
import datetime

# 創建系統實例
system = SolarLunarCalendar3Body()

# 獲取今日日期
today = datetime.date.today()

# 生成多語言曆法報告
report_en = system.generate_multilingual_report(today, "en")
report_zh = system.generate_multilingual_report(today, "zh")

print(report_en)
print(report_zh)
```

### 月相計算 (Lunar Phase Calculation)

```python
# 計算特定日期的月相
lunar_phase = system.lunar_phase_calculation(today)
print(f"月相: {lunar_phase['phase_name']}")
print(f"照明比例: {lunar_phase['illumination_fraction']:.2%}")
print(f"月相角度: {lunar_phase['phase_angle']:.1f}°")
```

### 三體位置計算 (Three-Body Position Calculation)

```python
# 計算三體位置
days_since_epoch = system.solar_calendar_days_since_epoch(today)
positions = system.three_body_position(days_since_epoch)

print(f"太陽位置: {positions.sun_pos}")
print(f"地球位置: {positions.earth_pos}")
print(f"月球位置: {positions.moon_pos}")

# 計算引力
forces = system.three_body_forces(positions)
for body, force in forces.items():
    print(f"{body} 受力: {force}")
```

### 曆法轉換 (Calendar Conversion)

```python
# 多曆法轉換
conversion_table = system.calendar_conversion_table(today)

# 格里高利曆
gregorian = conversion_table["gregorian"]
print(f"格里高利曆: {gregorian['year']}-{gregorian['month']:02d}-{gregorian['day']:02d}")

# 中國農曆
chinese = conversion_table["chinese_lunar"]
print(f"農曆: {chinese['lunar_year']}年{chinese['lunar_month']}月{chinese['lunar_day']}日")
print(f"干支: {chinese['year_stem_branch']}")
```

### 天文事件預測 (Astronomical Event Prediction)

```python
# 預測日食月食
end_date = today + datetime.timedelta(days=365)
eclipses = system.eclipse_prediction(today, end_date)

for eclipse in eclipses:
    print(f"{eclipse.date}: {eclipse.description['zh']}")

# 計算二十四節氣
solar_terms = system.solar_terms_calculation(today.year)
for term in solar_terms:
    print(f"{term.date}: {term.description['zh']} / {term.description['en']}")
```

### 多語言術語 (Multilingual Terminology)

```python
# 獲取不同語言的術語
term = "solar_calendar"
languages = ["en", "zh", "ja", "ko", "fr", "de", "es", "ru", "ar"]

for lang in languages:
    translation = system.get_term(term, lang)
    print(f"{lang}: {translation}")
```

## 技術實現 (Technical Implementation)

### 數學模型 (Mathematical Models)

#### 月相計算
月相使用朔望月週期計算：
```
月相角度 = (天數 / 朔望月) × 360°
照明比例 = 0.5 × (1 - cos(月相角度))
```

#### 三體位置
使用簡化的軌道力學模型：
```
地球軌道角度 = 2π × t (年)
月球軌道角度 = 2π × t / 月球軌道週期
```

#### 引力計算
使用牛頓萬有引力定律：
```
F = G × m1 × m2 / r²
```

### 類別結構 (Class Structure)

- `CalendarType`: 曆法類型枚舉
- `CelestialBody`: 天體枚舉
- `AstronomicalData`: 天文數據類
- `CalendarEvent`: 曆法事件類
- `ThreeBodyPosition`: 三體位置類
- `SolarLunarCalendar3Body`: 主要系統類

### 依賴項處理 (Dependency Handling)

系統設計為可選依賴項：
- 如果有 NumPy，使用 NumPy 陣列
- 如果沒有 NumPy，使用內建的 SimpleArray 類別

## 應用場景 (Application Scenarios)

### 教育用途 (Educational Use)
- 天文學教學
- 曆法歷史研究
- 多文化曆法比較
- 數學物理概念演示

### 研究用途 (Research Use)
- 曆法系統分析
- 天體力學研究
- 文化天文學研究
- NLP 曆法語料處理

### 開發用途 (Development Use)
- 曆法轉換工具
- 天文應用程式
- 多語言日期處理
- 教育軟體開發

## 擴展可能性 (Extension Possibilities)

### 更多曆法系統
- 瑪雅曆 (Mayan Calendar)
- 印度曆 (Indian Calendar)
- 波斯曆 (Persian Calendar)
- 埃塞俄比亞曆 (Ethiopian Calendar)

### 更精確的天體力學
- 軌道攝動計算
- 相對論效應
- 多體問題數值解
- 長期穩定性分析

### 更多語言支援
- 泰語 (Thai)
- 越南語 (Vietnamese)
- 印地語 (Hindi)
- 土耳其語 (Turkish)

### NLP 功能增強
- 曆法文本自動識別
- 日期表達式解析
- 曆法知識圖譜
- 跨語言日期翻譯

## 貢獻指南 (Contributing)

歡迎提交問題和拉取請求！請確保：
1. 代碼符合 PEP 8 標準
2. 添加適當的文檔和註釋
3. 包含測試用例
4. 支援多語言

## 許可證 (License)

本專案遵循 MIT 許可證。

## 聯繫方式 (Contact)

如有問題或建議，請通過 GitHub Issues 聯繫。

---

*本文檔最後更新：2024-12-22*